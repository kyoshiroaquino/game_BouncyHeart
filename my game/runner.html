<!doctype html> 
<html lang="en"> 
<head> 
	<meta charset="UTF-8" />
	<title>Phaser - Making your first game, part 2</title>
	<script type="text/javascript" src="../ELLIS  FILES/GAME DEVELOPMENT/lectures-master/phaser/activity/phaser codes/js/phaser.min.js"></script>
    <style type="text/css">
        body {
            margin: 0;
        }
    </style>
</head>
<body>
	<script type="text/javascript">

var game = new Phaser.Game(800, 600, Phaser.AUTO, '', { preload: preload, create: create, update: update });
var player, forest;
var	keyboard;
var fruit;

function preload() {
	//game.load.spritesheet('girl','assets/girl.png', 210,370);
    game.load.image('forest', 'assets/forest.png');
    game.load.spritesheet('dude', 'assets/hero.png', 246, 280);
	game.load.image('fruit','assets/fruit.png');
	
	

}

function create() {
	
	game.physics.startSystem(Phaser.Physics.ARCADE);

	forest = game.add.tileSprite(0,0,800,600,'forest');

	player = game.add.sprite(10,230,'dude');
	game.physics.enable(player);
	player.body.collideWorldBounds = true;
		
	player.body.bounce.y = 0.0;
	player.body.gravity.y = 700;
	
	player.animations.add('walk-right',[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15],15,true);
	player.animations.add('walk-left',[4,3,2,1],5,true);

	
	fruit = game.add.sprite(570,300, 'fruit');
	game.physics.enable(fruit);
	fruit.enableBody = true;
	fruit.body.collideWorldBounds = true;
	
	fruit.body.bounce.y = 0.3;
	fruit.body.gravity.y = 600;
	
	keyboard = game.input.keyboard.createCursorKeys();
}

function update() {

	
	if(keyboard.right.isDown){
		fruit.body.velocity.x = 80;
	    forest.tilePosition.x -= 4;
		player.body.velocity.x = 0;
		player.animations.play('walk-right');
}
	else if(keyboard.left.isDown){
		forest.tilePosition.x += 1;
		player.animations.play('walk-left');
			player.body.velocity.x = -50;
}
	else { player.animations.stop();
			player.body.velocity.x = 0;
		  	player.frame = 7;
		  
}
	if(keyboard.up.isDown){
		player.body.velocity.y = -200;
			
		player.animations.stop();
		player.frame = 1;
}

	}

</script>

</body>
</html>